{% extends "base.html" %}
{% load static %}

{% block title %}إعادة تعيين كلمة المرور{% endblock %}

{% block content %}
{# Link to login_page specific CSS for consistent styling #}
<link rel="stylesheet" href="{% static 'css/account/password_reset_form.css' %}">

<div class="outer-login-container">
    <h1 class="main-heading">هل نسيت كلمة المرور؟</h1>
    <p class="sub-heading">الرجاء إدخال بريدك الإلكتروني أدناه للحصول على رابط لإعادة تعيين كلمة المرور.</p>

    <div class="bg-white rounded-lg shadow-xl p-8 w-full max-w-md">

        {# Display form errors if any (from Django Forms) #}
        {% if form.errors %}
            <div class="mb-6 p-4 bg-red-50 border border-red-200 rounded-lg">
                <p class="text-red-700 font-medium">خطأ:</p>
                <ul class="text-red-600 text-sm list-disc pl-5">
                    {% for field, errors in form.errors.items %}
                        {% for error in errors %}
                            <li>{% if field == '__all__' %}خطأ عام: {% endif %}{{ error }}</li>
                        {% endfor %}
                    {% endfor %}
                </ul>
            </div>
        {% endif %}

        <form method="post" class="space-y-6">
            {% csrf_token %} {# Required for Django forms #}
            <div>
                <label for="{{ form.email.id_for_label }}" class="block text-right mb-2 text-gray-700">البريد الإلكتروني</label>
                <div class="input-with-icon">
                    <input
                        type="email"
                        id="{{ form.email.id_for_label }}"
                        name="{{ form.email.name }}"
                        value="{{ form.email.value|default:'' }}" {# Ensure default empty value if not set #}
                        class="form-input-field"
                        placeholder="أدخل بريدك الإلكتروني"
                        required
                    />
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="input-icon text-gray-400">
                        <circle cx="12" cy="12" r="4"></circle>
                        <path d="M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-2 6"></path>
                    </svg>
                </div>
            </div>
            
            <button
                type="submit"
                class="submit-button"
            >
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="button-icon">
                    <path d="M22 2L11 13"></path>
                    <path d="M22 2l-7 20-4-9-9-4 20-7z"></path>
                </svg>
                <span>إرسال بريد إلكتروني</span>
            </button>
        </form>
    </div>
</div>
{% endblock %}